@keyframes shake {
  0% { transform: translate3d(1px, 1px, 0) rotate(0deg); }
  10% { transform: translate3d(-1px, -1px, 0) rotate(1deg); }
  20% { transform: translate3d(-2px, 1px, 0) rotate(-1deg); }
  30% { transform: translate3d(1px, 2px, 0) rotate(0deg); }
  40% { transform: translate3d(-1px, 1px, 0) rotate(1deg); }
  50% { transform: translate3d(1px, -1px, 0) rotate(-2deg); }
  60% { transform: translate3d(2px, 1px, 0) rotate(1deg); }
  70% { transform: translate3d(-1px, 2px, 0) rotate(2deg); }
  80% { transform: translate3d(2px, -1px, 0) rotate(1deg); }
  90% { transform: translate3d(-1px, 2px, 0) rotate(0deg); }
  100% { transform: translate3d(2px, 1px, 0) rotate(-1deg); }
}

/* Force GPU acceleration for better performance */
#main-logo {
  will-change: transform;
  transform: translateZ(0);
  backface-visibility: hidden;
}

.sky-layer {
  position: absolute;
  inset: 0;
  z-index: 0;
  overflow: hidden;
  pointer-events: none;
}

.cloud-layer {
  position: absolute;
  inset: 0;
  z-index: 10;
  pointer-events: none;
}

.sky-layer .time-gradient {
  position: absolute;
  inset: 0;
  background: linear-gradient(180deg, #1c2f4c 0%, #9fd4ff 52%, #ffffff 100%);
  transition: background 1.5s ease, opacity 1.5s ease;
}

.sky-layer.stage-sunrise .time-gradient {
  background: linear-gradient(180deg, #071830 0%, #ff8ba0 42%, #ffd8a3 72%, #ffffff 100%);
}

.sky-layer.stage-day .time-gradient {
  background: linear-gradient(180deg, #5fbcff 0%, #9fe4ff 58%, #ffffff 100%);
}

.sky-layer.stage-sunset .time-gradient {
  background: linear-gradient(180deg, #0f1d35 0%, #ff6f61 40%, #ffb774 68%, #ffffff 100%);
}

.sky-layer.stage-night .time-gradient {
  background: linear-gradient(180deg, #040b1d 0%, #12213e 48%, #1c2f55 78%, #0b142b 100%);
}

.sky-layer .sun-halo {
  position: absolute;
  width: clamp(210px, 28vw, 320px);
  height: clamp(210px, 28vw, 320px);
  border-radius: 50%;
  transform: translate(-50%, -50%);
  background: radial-gradient(circle, rgba(255, 209, 140, 0.6) 0%, rgba(255, 209, 140, 0.35) 45%, rgba(255, 209, 140, 0) 75%);
  filter: blur(10px);
  transition: opacity 1.5s ease, background 1s ease;
  z-index: 1;
}

.sky-layer.stage-sunrise .sun-halo {
  background: radial-gradient(circle, rgba(255, 173, 135, 0.65) 0%, rgba(255, 173, 135, 0.35) 45%, rgba(255, 173, 135, 0) 75%);
}

.sky-layer.stage-sunset .sun-halo {
  background: radial-gradient(circle, rgba(255, 142, 88, 0.7) 0%, rgba(255, 142, 88, 0.3) 50%, rgba(255, 142, 88, 0) 75%);
}

.sky-layer.stage-night .sun-halo {
  opacity: 0;
}

.sky-layer .sun {
  position: absolute;
  width: clamp(150px, 18vw, 230px);
  height: clamp(150px, 18vw, 230px);
  border-radius: 50%;
  transform: translate(-50%, -50%);
  background: radial-gradient(circle at 30% 30%, #fff7d6, #ffc371 65%, #ff5f6d 100%);
  box-shadow: 0 0 45px rgba(255, 196, 125, 0.75), 0 0 120px rgba(255, 209, 158, 0.45);
  transition: opacity 1.5s ease, background 1s ease, box-shadow 1s ease;
  z-index: 2;
}

.sky-layer.stage-sunrise .sun {
  background: radial-gradient(circle at 40% 40%, #fff5ce, #ffb48a 60%, #ff7c6e 100%);
}

.sky-layer.stage-day .sun {
  background: radial-gradient(circle at 30% 30%, #fffac0, #ffd166 65%, #f4a261 100%);
  box-shadow: 0 0 60px rgba(255, 220, 140, 0.75), 0 0 150px rgba(255, 235, 170, 0.45);
}

.sky-layer.stage-sunset .sun {
  background: radial-gradient(circle at 40% 40%, #ffe2ba, #ff9b6a 60%, #f15a29 100%);
  box-shadow: 0 0 70px rgba(255, 134, 79, 0.75), 0 0 150px rgba(255, 94, 58, 0.4);
}

.sky-layer.stage-night .sun {
  opacity: 0;
}

.sky-layer .moon {
  position: absolute;
  width: clamp(90px, 12vw, 140px);
  height: clamp(90px, 12vw, 140px);
  border-radius: 50%;
  transform: translate(-50%, -50%);
  background: radial-gradient(circle at 30% 30%, #ffffff, #dfe7ff 60%, #9aa9e1 100%);
  box-shadow: 0 0 35px rgba(170, 190, 255, 0.75), 0 0 80px rgba(120, 150, 255, 0.4);
  transition: opacity 1.5s ease, transform 1s ease;
  opacity: 0;
  z-index: 3;
}

.sky-layer .moon::after {
  content: '';
  position: absolute;
  inset: 18%;
  border-radius: 50%;
  background: radial-gradient(circle at 60% 35%, rgba(255, 255, 255, 0.45) 0%, rgba(255, 255, 255, 0) 70%);
  mix-blend-mode: screen;
}

.sky-layer .stars {
  position: absolute;
  inset: 0;
  opacity: 0;
  transition: opacity 1.5s ease;
  z-index: 2;
}

.sky-layer .star {
  position: absolute;
  border-radius: 9999px;
  background: radial-gradient(circle, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.2) 70%, rgba(255, 255, 255, 0) 100%);
  box-shadow: 0 0 6px rgba(255, 255, 255, 0.6);
  animation: twinkle 3s ease-in-out infinite;
  transform: scale(0.9);
}

.sky-layer .horizon-glow {
  position: absolute;
  left: -20%;
  right: -20%;
  bottom: -34%;
  height: 68%;
  border-radius: 50%;
  background: radial-gradient(ellipse at center, rgba(255, 204, 173, 0.6) 0%, rgba(255, 204, 173, 0.05) 60%, rgba(255, 204, 173, 0) 80%);
  filter: blur(30px);
  transition: background 1.5s ease, opacity 1.5s ease;
  opacity: 0.45;
  z-index: 0;
}

.sky-layer.stage-day .horizon-glow {
  opacity: 0.35;
  background: radial-gradient(ellipse at center, rgba(255, 220, 170, 0.45) 0%, rgba(255, 220, 170, 0.05) 60%, rgba(255, 220, 170, 0) 80%);
}

.sky-layer.stage-sunrise .horizon-glow {
  opacity: 0.5;
  background: radial-gradient(ellipse at center, rgba(255, 173, 135, 0.6) 0%, rgba(255, 173, 135, 0.1) 60%, rgba(255, 173, 135, 0) 80%);
}

.sky-layer.stage-sunset .horizon-glow {
  opacity: 0.55;
  background: radial-gradient(ellipse at center, rgba(255, 142, 88, 0.65) 0%, rgba(255, 142, 88, 0.12) 60%, rgba(255, 142, 88, 0) 80%);
}

.sky-layer.stage-night .horizon-glow {
  opacity: 0.25;
  background: radial-gradient(ellipse at center, rgba(80, 120, 255, 0.45) 0%, rgba(80, 120, 255, 0.08) 60%, rgba(80, 120, 255, 0) 80%);
}

.sky-layer .haze {
  position: absolute;
  inset: 0;
  background: linear-gradient(0deg, rgba(255, 255, 255, 0.55) 12%, rgba(255, 255, 255, 0.2) 40%, rgba(255, 255, 255, 0) 60%);
  opacity: 0.42;
  transition: opacity 1.5s ease, background 1.5s ease;
  mix-blend-mode: screen;
  z-index: 1;
}

.sky-layer.stage-day .haze {
  opacity: 0.32;
}

.sky-layer.stage-sunrise .haze {
  opacity: 0.44;
}

.sky-layer.stage-sunset .haze {
  opacity: 0.38;
  background: linear-gradient(0deg, rgba(255, 183, 160, 0.6) 10%, rgba(255, 214, 186, 0.25) 45%, rgba(255, 214, 186, 0) 65%);
}

.sky-layer.stage-night .haze {
  opacity: 0.24;
  background: linear-gradient(0deg, rgba(28, 42, 86, 0.65) 0%, rgba(28, 42, 86, 0.2) 40%, rgba(28, 42, 86, 0) 65%);
  mix-blend-mode: normal;
}

@keyframes twinkle {
  0%, 100% {
    opacity: 0.35;
    transform: scale(0.85);
  }
  50% {
    opacity: 1;
    transform: scale(1.2);
  }
}

.cloud {
  position: absolute;
  top: var(--cloud-top, 18%);
  left: var(--cloud-left, auto);
  width: var(--cloud-width, 240px);
  height: var(--cloud-height, 120px);
  display: block;
  border-radius: var(--cloud-radius, 120px 120px 90px 90px / 90px 90px 80px 100px);
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.99) 0%, rgba(233, 242, 255, 0.9) 100%);
  box-shadow: 0 22px 32px rgba(55, 90, 130, 0.14);
  --cloud-duration: var(--cloud-duration-local, 52s);
  --cloud-start-x: var(--cloud-start, -25vw);
  --cloud-end-x: var(--cloud-end, 110vw);
  pointer-events: none;
  z-index: 1;
  will-change: transform;
  animation: cloudDrift var(--cloud-duration) linear infinite;
}

.cloud::before,
.cloud::after {
  content: '';
  position: absolute;
  border-radius: var(--cloud-lobe-radius, 9999px);
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.99) 0%, rgba(245, 248, 255, 0.92) 100%);
  pointer-events: none;
  transform-origin: center;
  filter: drop-shadow(0 20px 24px rgba(34, 92, 124, 0.12));
}

.cloud::before {
  width: var(--cloud-left-width, 160px);
  height: var(--cloud-left-height, 108px);
  top: var(--cloud-left-top, 8px);
  left: var(--cloud-left-left, 16px);
  transform: var(--cloud-left-transform, none);
  border-radius: var(--cloud-left-radius, 50%);
  box-shadow: var(--cloud-left-shadow, -24px 18px 0 -22px rgba(255, 255, 255, 0.9));
}

.cloud::after {
  width: var(--cloud-right-width, 150px);
  height: var(--cloud-right-height, 98px);
  top: var(--cloud-right-top, 14px);
  right: var(--cloud-right-right, 18px);
  transform: var(--cloud-right-transform, none);
  border-radius: var(--cloud-right-radius, 50%);
  box-shadow: var(--cloud-right-shadow, 24px 18px 0 -24px rgba(255, 255, 255, 0.88), -20px 24px 0 -26px rgba(255, 255, 255, 0.86));
}

.cloud--one {
  left: 10%;
  --cloud-top: 12%;
  --cloud-width: 260px;
  --cloud-height: 118px;
  --cloud-radius: 140px 122px 92px 110px / 94px 102px 82px 100px;
  --cloud-duration-local: 46s;
  --cloud-start: -34vw;
  --cloud-end: 118vw;
  animation-delay: -24s;
  --cloud-left-width: 168px;
  --cloud-left-height: 110px;
  --cloud-left-top: 8px;
  --cloud-left-left: 10px;
  --cloud-left-transform: none;
  --cloud-left-radius: 130px 118px 86px 98px;
  --cloud-left-shadow: -22px 18px 0 -20px rgba(255, 255, 255, 0.92);
  --cloud-right-width: 150px;
  --cloud-right-height: 100px;
  --cloud-right-top: 14px;
  --cloud-right-right: 18px;
  --cloud-right-transform: none;
  --cloud-right-radius: 120px 126px 90px 94px;
  --cloud-right-shadow: 24px 18px 0 -22px rgba(255, 255, 255, 0.9);
  background:
    radial-gradient(circle at 28% 62%, rgba(255, 255, 255, 0.99) 0 58%, transparent 59%),
    radial-gradient(circle at 56% 36%, rgba(255, 255, 255, 0.97) 0 70%, transparent 71%),
    radial-gradient(circle at 80% 60%, rgba(255, 255, 255, 0.95) 0 56%, transparent 57%),
    linear-gradient(180deg, rgba(255, 255, 255, 0.99) 0%, rgba(233, 242, 255, 0.9) 100%);
}

.cloud--two {
  left: 30%;
  --cloud-top: 21%;
  --cloud-width: 300px;
  --cloud-height: 128px;
  --cloud-radius: 150px 130px 100px 110px / 98px 96px 90px 108px;
  --cloud-duration-local: 60s;
  --cloud-start: -42vw;
  --cloud-end: 122vw;
  animation-delay: -32s;
  opacity: 0.95;
  --cloud-left-width: 198px;
  --cloud-left-height: 118px;
  --cloud-left-top: 10px;
  --cloud-left-left: 12px;
  --cloud-left-transform: none;
  --cloud-left-radius: 150px 126px 100px 104px;
  --cloud-left-shadow: -28px 22px 0 -24px rgba(255, 255, 255, 0.92);
  --cloud-right-width: 186px;
  --cloud-right-height: 110px;
  --cloud-right-top: 18px;
  --cloud-right-right: 24px;
  --cloud-right-transform: none;
  --cloud-right-radius: 138px 150px 110px 118px;
  --cloud-right-shadow: 34px 22px 0 -26px rgba(255, 255, 255, 0.88);
  background:
    radial-gradient(circle at 22% 60%, rgba(255, 255, 255, 0.99) 0 60%, transparent 61%),
    radial-gradient(circle at 50% 32%, rgba(255, 255, 255, 0.97) 0 78%, transparent 79%),
    radial-gradient(circle at 78% 60%, rgba(255, 255, 255, 0.94) 0 58%, transparent 59%),
    radial-gradient(circle at 90% 42%, rgba(255, 255, 255, 0.92) 0 44%, transparent 45%),
    linear-gradient(180deg, rgba(255, 255, 255, 0.98) 0%, rgba(231, 241, 255, 0.86) 100%);
}

.cloud--three {
  left: 52%;
  --cloud-top: 28%;
  --cloud-width: 220px;
  --cloud-height: 108px;
  --cloud-radius: 118px 126px 88px 100px / 90px 94px 84px 98px;
  --cloud-duration-local: 54s;
  --cloud-start: -34vw;
  --cloud-end: 116vw;
  animation-delay: -18s;
  opacity: 0.9;
  --cloud-left-width: 148px;
  --cloud-left-height: 98px;
  --cloud-left-top: 8px;
  --cloud-left-left: 8px;
  --cloud-left-transform: none;
  --cloud-left-radius: 134px 118px 86px 94px;
  --cloud-left-shadow: -22px 16px 0 -20px rgba(255, 255, 255, 0.9);
  --cloud-right-width: 138px;
  --cloud-right-height: 90px;
  --cloud-right-top: 18px;
  --cloud-right-right: 12px;
  --cloud-right-transform: none;
  --cloud-right-radius: 118px 126px 90px 92px;
  --cloud-right-shadow: 22px 16px 0 -22px rgba(255, 255, 255, 0.86);
  background:
    radial-gradient(circle at 26% 58%, rgba(255, 255, 255, 0.99) 0 56%, transparent 57%),
    radial-gradient(circle at 58% 36%, rgba(255, 255, 255, 0.97) 0 66%, transparent 67%),
    radial-gradient(circle at 84% 62%, rgba(255, 255, 255, 0.94) 0 52%, transparent 53%),
    linear-gradient(180deg, rgba(255, 255, 255, 0.99) 0%, rgba(233, 243, 255, 0.84) 100%);
}

.cloud--four {
  left: 71%;
  --cloud-top: 17%;
  --cloud-width: 320px;
  --cloud-height: 132px;
  --cloud-radius: 160px 140px 110px 120px / 104px 100px 96px 118px;
  --cloud-duration-local: 68s;
  --cloud-start: -50vw;
  --cloud-end: 128vw;
  animation-delay: -38s;
  opacity: 0.92;
  --cloud-left-width: 218px;
  --cloud-left-height: 120px;
  --cloud-left-top: 12px;
  --cloud-left-left: 16px;
  --cloud-left-transform: none;
  --cloud-left-radius: 168px 146px 116px 124px;
  --cloud-left-shadow: -34px 20px 0 -24px rgba(255, 255, 255, 0.9);
  --cloud-right-width: 208px;
  --cloud-right-height: 112px;
  --cloud-right-top: 20px;
  --cloud-right-right: 20px;
  --cloud-right-transform: none;
  --cloud-right-radius: 152px 162px 120px 126px;
  --cloud-right-shadow: 40px 22px 0 -26px rgba(255, 255, 255, 0.88);
  background:
    radial-gradient(circle at 24% 60%, rgba(255, 255, 255, 0.99) 0 60%, transparent 61%),
    radial-gradient(circle at 52% 34%, rgba(255, 255, 255, 0.97) 0 72%, transparent 73%),
    radial-gradient(circle at 80% 58%, rgba(255, 255, 255, 0.94) 0 58%, transparent 59%),
    radial-gradient(circle at 92% 46%, rgba(255, 255, 255, 0.92) 0 48%, transparent 49%),
    linear-gradient(180deg, rgba(255, 255, 255, 0.99) 0%, rgba(232, 242, 255, 0.84) 100%);
}


@keyframes cloudDrift {
  0% {
    transform: translate3d(var(--cloud-start-x), 0, 0);
  }

  100% {
    transform: translate3d(var(--cloud-end-x), 0, 0);
  }
}


@media (prefers-reduced-motion: reduce) {
  .cloud,
  #main-logo {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
  }

  .cloud {
    animation: none !important;
    display: none;
  }
}
